# **Инструкция по работе с системой контроля версий Git**

![Эмблема Git](git.jpg)

Git (произносится «гит») — распределённая система управления версиями. Проект был создан Линусом Торвальдсом для управления разработкой ядра Linux, первая версия выпущена 7 апреля 2005 года. На сегодняшний день его поддерживает Джунио Хамано.

## Инициализация репозитория

Чтобы создать (инициализировать) новый репозиторий нужно в терминале ввести команду:

    git init

Репозиторий будет создан в той папке, из которой вызывалась команда

## Проверка состояния репозитория

Чтобы проверить текущее состояние репозитория нужно ввести в терминале команду:

    git status

## Добавление изменения к отслеживанию версионности

Чтобы добавить сделанное изменение к отслеживанию (поместить в индекс) нужно ввести команду:

    git add <имя файла>

где вместо <имя файла> вводится путь к файлу относительно расположения репозитория.

## Фиксация изменений

Чтобы зафиксировать изменение используется команда:

    git commit

В таком случае откроется окно для ввоба краткого описания сделанных изменений.

Чтобы сделать это одновременно с фиксацией используется команда:

    git commit -m "комментарий"

## Просмотр истории изменений

Чтобы посмотреть историю изменений используется комада

    git log

Для просмотра изменений с выводом одного коммита в одну строку используется команда

    git log --oneline

Для просмотра всех имеющихся коммитов используется команда

    git log --all

Для просмотра лога с графическим изображением веток используется команда

    git log --graph

Все указанные флаги могут использоваться вместе:

    git log --all --oneline --graph

## Просмотр различий между изменениями

Для просмотра отличий между текущим состоянием репозитория и последним сохраненным изменением используется команда

    git diff

Можно также посмотреть разницу между любыми двуми коммитами. Для этого используется команда

    git diff <хэш1> <хэш2>

## Переключение на нужное изменение

Чтобы переключиться на нужный коммит используется команда

    git checkout <хэш>

## Ветки в Git

### Создание новой ветки

Чтобы создать новую ветку используется команда

    git branch <имя_ветки>

### Просмотр всех веток

Чтобы посмотреть какие ветки существуют и на какой мы находимся используется команда

    git branch

### Переключение между ветками

Чтобы переключиться на другую ветку используется команда

    git checkout <имя_ветки>

### Слияние веток

Чтобы влить одну ветку в другую необходимо находясь в целевой ветке (КУДА будем делать слияние) выполнить команду

    git merge <имя_вливаемой_ветки>

### Конфликты при слиянии

Если одна и та же строка в разный версиях записана по разному возникнет конфликт.
Чистый гит автоматически сохраняет оба изменения, далее требуется вручную внести нужные правки и сделать коммит.

VSСode дает возможность выбрать какое изменение сохранить (входящее, существующее или оба).

### Удаление ветки

Чтобы удалить ветку, которая больше не нужно (например после слияния) используется команда

    git branch -d <имя_ветки>

# Домашняя работа № 3 по курсу "Введение в контроль версий"

## Работа с удаленными репозиториями

Для работы с удаленными репозиториями, первое и главное, нужно определиться с порталом, где будет храниться репозитории (в нашем случае портал Microsoft - GitHub), пройти этап регистрации там (завести личный аккаунт), ознакомиться с внешним видом и возможностями портала (в нашем случае: это сделано во время лекции и семинара).

Портал GitHub позволяет работать с одним проектом множеству людей. Для этого в аккаунте основного проекта нужно воспользоваться кнопкой *fork*, которая позволяет:

1. Сделать копию основного проекта у себя в аккаунте;
2. Переместить клон-копию в личный аккаунт (репозиторий) пользователя.

То есть кнопка/команда fork позволяет пользователю вносить изменения к клон-копию, а не в оригинал.

## Клонирование репозитория

После нажатия кнопки **fork** копию чужого репозитория переместиться в рабочий аккаунт пользователя и с ним можно будет работать как удаленно, так и локально.

Чтобы запустиnь локальную работу с копированным репозиторием, необходимо выполнить следующие действия:

1. Открыть в своем аккаунте скопированный репозиторий.
2. Скопирать адрес репозитория.
3. Открыть программу Visual Stidio Code (или иную программу, в которой происходит работа с кодом).
4. Написать в программе следующую команду:

    git clone <скопированный адрес>

5. Дождаться, когда Visual Studio Code выполнит операцию.

**Обрати внимание:** если программа сообщила об ошибке, внимательно прочитай сообщение и выполни то, что написано в теле сообщения (скорее всего, программа попросит тебя дописать команду). 

6. Сделай выполни стандартную программу проверки статуса: **git status**

7. Создай новую ветку, в которой будешь работать (это уважение к команде и правило хорошего тона):

    git branch < name branch >

Помни, так создателю основного репозитория будет проще работать с твоей частью.

После создания новой ветки, начинай работать как обычно ты это делаешь со своим репозиторием. 

**Обрати внимание:** после того, как ты создал ветку, перейти на нее, используя стандартную команду: 

    git checkout < name branch >

Ну а теперь за работу! Используя инструкцию, которую ты написал ранее (дамашнее задание 1 и 2), можно многое сделать в Git.

## Добавление репозитория с ПК в свой аккаунт GitHub

После того, как в локальной версии все необходимые записи сделаны, проверен статус (все добавлено (git add <имя файла>) и правильно сохранено (git commit -m "Точный и ясный комментрий"), можно отправить свою версию репозитория во внешний репозиторий с помощью следующей команды:

    git push

**Обрати внимание:** при первом использовании коменды нужна авторизация на GitHub.

**Обрати внимание:** если программа сообщила об ошибке, внимательно прочитай сообщение и выполни то, что написано в теле сообщения (скорее всего, программа попросит тебя дописать команду, так как ты создал новую ветку, которой ранее не было в оригинале, который ты клонировал).

## Работа в изменениями в рабочей версии на GitHub, используя локальный ПК.

Еще одна важная команда в Git, позволяющая скачать все изменения из текущего репозитория и автоматически сделать merge с версии на локальном ПК - Pull. Чтобы запустить команду, необходимо прописать:

    git pull

После выполнения указанной команды, в репозитории на ПК будет находится самая актуальная информация. Однако, при выполнении указанной команды может возникнуть конфликт, который, как описано выше, необходимо разрешить (используя подсказки Git). 

## Организация возможности для сливания сторонних изменений в репозиторий

После того, как итоговая версия файла на локальном ПК сделана, добавлены и сохранены все измнения (и проверен статус), можно начинать работу с отправкой итоговой версии в GitHub и делиться ею с пользователем, у которого клонировали репозиторий.

Для этого отправляем свою версию в свой GitHub, используя команду git push.

В своем аккаунте на сайте GitHub в разделе рабочего репозитория находим кнопку "Compare & pull request", нажимаем ее, заполняем стандартную форму с комментриями (нужно ясно и четко прописать владельцу исходного репозитория, что было добавлено, исправлено и/или удалено).

Щелчок на этой кнопке откроет экран, где изменению, для которого собираемся создать запрос на включение, можно присвоить заголовок и снабдить его описанием, чтобы у владельца исходного проекта появился стимул с ним ознакомиться. 

**Обрати внимание:** имеет смысл приложить усилия и сделать описание как можно более содержательным, чтобы сразу можно было понять, зачем предлагается данное из- менение и почему его желательно принять.

После щелчка на кнопке Create Pull Request владелец исходного проекта, для которого создавали ответвление, получит уведомление о предлагаемом изменении и ссылку на страницу с полной информацией о нем.